<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>orbitControls</title>
    <link rel="stylesheet" href="../../plugins/ys/ys.min.css">
    <link rel="stylesheet" href="../../css/ysThree/pageStyle.css">
</head>
<body>
<div class="ys-absolute-container" id="box" style="overflow: hidden"></div>
<div class="fix-btns">
    <span class="ys-btn ys-btn-warm ys-btn-sm  tips-btn">小记</span>
    <span class="ys-btn ys-btn-warm ys-btn-sm  camera-btn">获取</span>
</div>
<div class="tips-container ys-absolute-container">
    <div class="ys-tit">orbitControls</div>
    <div class="ys-block"></div>
</div>
</body>
<script src="../../plugins/jquery-1.10.2.min.js"></script>
<script src="../../plugins/threeLibrary/three.min.js"></script>
<script src="../../plugins/threeLibrary/js/controls/OrbitControls.js"></script>
<script src="../../plugins/ysThree/ysThree_old.js"></script>
<script>
   ysThree.init({
       el:document.getElementById('box'),
       cameraType:1,
       axes:true,//坐标辅助
       gridHelper:true,//网格参考线
       clearColor:'#000'//画布颜色
   },(scene,camera,renderer)=>{
       const box = new THREE.Mesh(new THREE.BoxGeometry(4,4,4),new THREE.MeshBasicMaterial({
           color:'red'
       }))
       scene.add(box)


       $(".camera-btn").click(function () {
           console.log(controls.object);
       })
       function initControls() {

           const  controls = new THREE.OrbitControls(camera, renderer.domElement);

           // 如果使用animate方法时，将此函数删除
           //controls.addEventListener( 'change', render );
           // 使动画循环使用时阻尼或自转 意思是否有惯性
           controls.enableDamping = true;
           //动态阻尼系数 就是鼠标拖拽旋转灵敏度
           //controls.dampingFactor = 0.25;
           //是否可以缩放
           controls.enableZoom = true;
           //是否自动旋转
          // controls.autoRotate = true;
           controls.autoRotateSpeed = 0.5;
           //设置相机距离原点的最远距离
           controls.minDistance = 1;
           //设置相机距离原点的最远距离
           controls.maxDistance = 200;
           //是否开启右键拖拽
           controls.enablePan = true


           /*
            this.enabled = true;

            // "target" sets the location of focus, where the object orbits around
            this.target = new THREE.Vector3();

            // How far you can dolly in and out ( PerspectiveCamera only )
            this.minDistance = 0;
            this.maxDistance = Infinity;

            // How far you can zoom in and out ( OrthographicCamera only )
            this.minZoom = 0;
            this.maxZoom = Infinity;

            // How far you can orbit vertically, upper and lower limits.
            // Range is 0 to Math.PI radians.
            this.minPolarAngle = 0; // radians
            this.maxPolarAngle = Math.PI; // radians

            // How far you can orbit horizontally, upper and lower limits.
            // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].
            this.minAzimuthAngle = - Infinity; // radians
            this.maxAzimuthAngle = Infinity; // radians

            // Set to true to enable damping (inertia)
            // If damping is enabled, you must call controls.update() in your animation loop
            this.enableDamping = false;
            this.dampingFactor = 0.25;

            // This option actually enables dollying in and out; left as "zoom" for backwards compatibility.
            // Set to false to disable zooming
            this.enableZoom = true;
            this.zoomSpeed = 1.0;

            // Set to false to disable rotating
            this.enableRotate = true;
            this.rotateSpeed = 1.0;

            // Set to false to disable panning
            this.enablePan = true;
            this.panSpeed = 1.0;
            this.screenSpacePanning = false; // if true, pan in screen-space
            this.keyPanSpeed = 7.0;	// pixels moved per arrow key push

            // Set to true to automatically rotate around the target
            // If auto-rotate is enabled, you must call controls.update() in your animation loop
            this.autoRotate = false;
            this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60

            // Set to false to disable use of the keys
            this.enableKeys = true;

            // The four arrow keys
            this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };

            // Mouse buttons //鼠标习惯
            this.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };

            // for reset
            this.target0 = this.target.clone();
            this.position0 = this.object.position.clone();
            this.zoom0 = this.object.zoom;


            */

           return controls
       }
       const  controls = initControls()
       const  clock = new THREE.Clock()
       camera.position.set(0,10,0)
       controls.target.set(0,10,0)
       function animate() {
           //更新控制器
           //controls.update(clock.getDelta())
           renderer.render(scene,camera)
           requestAnimationFrame(animate)
       }
       animate()
   })
</script>
<!--此脚本与案例无关 可忽略-->
<script src="../../js/ysThree/pageJs.js"></script>
</html>
